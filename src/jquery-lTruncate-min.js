(function(a){var b=function(b,c){var d=this;d.items=null,d.status=null,d.showText=null,d.hideText=null;var e={length:10,showText:"More",showClass:"show",hideText:"Less",hideClass:"hide",startStatus:"hidden",showCountHiddenItems:!1},c=a.extend(e,c),f=function(){d.status=c.startStatus,d.items=b.children(),d.items.length>c.length&&(d.items.each(function(b){b+1>c.length&&a(this).addClass("more-less-item").css("display","none")}),d.showContent=a(".more-less-item",b),d.showText=(c.showCountHiddenItems?c.showText+" ("+(d.items.length-c.length)+") ":c.showText)+"...",d.hideText=c.hideText+"...",d.showLink=a("<li>").addClass("more-less-link").append(d.showText),b.append(d.showLink),h(),g())},g=function(){switch(c.startStatus){case"hidden":d.hideItems();break;case"show":d.showItems();break;default:throw"InvalidStartStatusException"}},h=function(){d.showLink.click(function(){return"hidden"==d.status?d.showItems():d.hideItems(),!1})};d.hideItems=function(){d.showContent.hide(),d.showLink.text(d.showText).addClass(c.hideClass).removeClass(c.showClass),d.status="hidden"},d.showItems=function(){d.showContent.show(),d.showLink.text(d.hideText).addClass(c.showClass).removeClass(c.hideClass),d.status="show"},f()};a.fn.lTruncate=function(c){return this.each(function(){new b(a(this),c)})}})(jQuery);
